## Engineering Rules

Этот файл содержит неизменяемые правила разработки проекта. Любая AI-роль обязана строго им следовать. Запрещено: расширять scope, менять архитектуру, добавлять зависимости, оптимизировать или рефакторить без явного указания. Если поведение не описано — оно не реализуется. При неоднозначности AI обязан остановиться и задать вопрос. Приоритет: ENGINEERING_RULES.md → PROJECT_SPEC.md → код. Минимальная корректная реализация всегда предпочтительнее усложнения.

### 1. Стек технологий
- **Language**: Python 3.9+
- **Framework**: None (чистый Python)
- **Database**: None (JSON файлы)
- **Styling**: None
- **Linting**: None (待配置)
- **Key Libraries**: pybit, python-dotenv, requests, numpy, pandas

### 2. Правила именования
- **Modules/Files**: snake_case (например, `data_manager.py`).
- **Classes**: PascalCase (например, `TradingBot`).
- **Variables/Functions**: snake_case (например, `get_symbols_to_analyze`).
- **Constants**: UPPER_SNAKE_CASE (например, `MAX_POSITIONS`).

### 3. Качество кода
- Никаких `any`. Только строгая типизация (где возможно).
- Удалять неиспользуемый код и импорты немедленно.
- Сообщения коммитов должны быть на английском языке и следовать Conventional Commits.
- Функции должны быть небольшими (до 50 строк) с единой ответственностью.

### 4. Архитектура
- **MVC-подобная структура**: Model (data_manager), View (utils/notifications), Controller (main, analyzer, executor).
- Все API запросы инкапсулированы в `DataManager`.
- Конфигурация загружается из `.env` файлов через `Config` dataclass.
- Разделение ответственности: Screener → Analyzer → Executor.

### 5. Стилизация
- Не применимо (CLI-приложение).

### 6. Обработка ошибок
- Все внешние вызовы (API, файлы) оборачивать в try/catch.
- Логировать ошибки с контекстом через модуль `logging`.
- Не использовать пустые catch-блоки.

### 7. Тестирование
- Каждый модуль должен иметь соответствующий тестовый файл (`test_*.py`).
- Dry-run режим для тестирования без реальных средств.