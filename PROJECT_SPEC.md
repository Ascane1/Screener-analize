# Project Specification: Trading Bot для Bybit

## 1. Общее описание
Автоматический торговый бот для биржи Bybit, использующий **Kernel Regression** и **Relative Performance Analysis** для генерации торговых сигналов.
- **Целевая аудитория**: Трейдеры, использующие алгоритмические стратегии на криптовалютном рынке.
- **Проблема**: Необходимость автоматизировать анализ рынка и исполнение сделок на основе математических моделей (Kernel Regression) без эмоциональных факторов.

## 2. Цели проекта
- Создать автономного торгового бота, способного анализировать рынок и открывать позиции.
- Реализовать модульную архитектуру для легкой замены компонентов (Screener, Analyzer, Executor).
- Обеспечить безопасность через dry-run режим и конфигурацию через переменные окружения.
- Достичь положительного математического ожидания за счет фильтрации сигналов по относительной производительности.

## 3. Технологический стек
- **Language**: Python 3.9+
- **Framework**: None (чистый Python)
- **Database**: None (хранение в JSON файлах)
- **Styling**: None
- **Linting**: None (требуется настройка)
- **Key Libraries**: pybit, python-dotenv, requests, numpy, pandas

## 4. Функциональные требования
### 4.1. Основной функционал
- **Скрининг рынка**: Отбор топ монет по волатильности и объему.
- **Анализ**: Расчет Kernel Regression и Relative Performance.
- **Исполнение**: Автоматическое открытие позиций с SL/TP.
- **Мониторинг**: Отслеживание открытых позиций и PnL.
- **Уведомления**: Поддержка Telegram и Discord.

## 5. Структура проекта
```
trading_bot/
├── main.py           # Главный модуль
├── config.py         # Конфигурация
├── data_manager.py   # Работа с API
├── screener.py       # Скрининг рынка
├── analyzer.py       # Анализ сигналов
├── executor.py       # Исполнение сделок
├── kernels.py        # Функции ядер регрессии
├── utils.py          # Утилиты и уведомления
└── test.md           # Документация тестов
```

## 6. Ограничения и зависимости
- **Ограничения**: Работает только с USDT Perpetual на Bybit.
- **Зависимости**: API Bybit, CoinGecko (для бенчмарка).
- **Out of Scope**: Спот-торговля, другие биржи, веб-интерфейс.
- Все решения должны соответствовать `ENGINEERING_RULES.md`.

## 7. Метрики успеха
- Бот стабильно работает 24/7 без крашей.
- Все модули покрыты тестами.
- Dry-run режим полностью соответствует реальному исполнению.